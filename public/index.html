<html>
<head>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <section>
    <div id='chat'></div>
    <input id='name' placeholder="Enter Your Name"/>
    <input id="input" disabled="disabled"/>
    <select id='users'>
      <option value="">All Users</option>
    </select>
  </section>
  <script type="text/javascript" src="http://localhost:4568/socket.io/socket.io.js"></script>
  <script type="text/javascript" src="underscore.js"></script>
  <script type="text/javascript">
  //adding event listener from w3c
    var addEventListener = function (obj, event, func) {
      if (obj.addEventListener) {
        obj.addEventListener(event, func, false);
        return true;
      } else if(obj.attachEvent) {
        return obj.attachEvent('on' + event, func);
      }
    };
    var randomColor = function () {
      var character = '0123456789ABCDEF'.split('');
      var color = "#";
      for (var i = 0; i < 6; i++) {
        color += character[Math.round(Math.random() * 15)];
      }
      return color;
    }
  </script>
  <script>
    window.onload = function() {
      var Chat = function() {
        var socket = io.connect('http://localhost:4568');
        var chat = document.querySelector("#chat");
        var input = document.querySelector("#input");
        var name = document.querySelector("#name");
        var users = document.querySelector("#users");
        var selectedUser = null;
        var id = null;
        var color = randomColor();

        var send = function(message) {
          var username = name.value == '' ? '' : '<strong>' + name.value + ': </strong>';
            socket.emit('send', { 
              message: '<span style="color:' + color + '">' + username + message + '</span>',
              username: name.value,
              toUser: users.value,
              fromUser: id
            });
          }
        var display = function(message) {
          chat.innerHTML = chat.innerHTML + message + '<br />';
          chat.scrollTop = chat.scrollHeight;
        };


      }()
    }
  </script>

</body>
</html>